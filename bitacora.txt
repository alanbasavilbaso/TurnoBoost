symfony server:start
symfony server:start


composer install   

php bin/console app:create-user

admin@turnoboost.com
admin123



---------------------------------------------------------------
php bin/console cache:clear && php bin/console asset-map:compile
---------------------------------------------------------------



php bin/console cache:clear
php bin/console asset-map:compile


Comparte tu link de reserva con tus clientes:
https://tuturno.io/test35


--- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- 
correr worker en local:
        php bin/console messenger:consume async -vv
--- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- 


# Secuencia completa de reset de BD
php bin/console doctrine:database:drop --force
php bin/console doctrine:database:create
rm -rf migrations/*
php bin/console make:migration
php bin/console doctrine:migrations:migrate



##  Generar la migraci√≥n
Una vez que hayas creado las entidades, genera la migraci√≥n:

    php bin/console make:migration

## Ejecutar la migraci√≥n
Ejecuta la migraci√≥n para aplicar los cambios a la base de datos:

    php bin/console doctrine:migrations:migrate



php bin/console doctrine:schema:drop --force
php bin/console doctrine:migrations:version --delete --all
php bin/console doctrine:migrations:migrate --no-interaction
php bin/console doctrine:schema:validate



## üèóÔ∏è Arquitectura General
### Symfony (Backend Principal)
- Maneja la l√≥gica de negocio de citas
- Almacena notificaciones en la base de datos
- Env√≠a peticiones HTTP al microservicio de WhatsApp
- Gestiona el sistema de colas con Messenger


### Node.js + Baileys (Microservicio)
- Maneja la conexi√≥n con WhatsApp
- Guarda y mantiene la sesi√≥n de WhatsApp
- Expone API REST para recibir mensajes
- Procesa y env√≠a mensajes a WhatsApp



---------------------------------------------
---------------------------------------------
---------------------------------------------
## ü§ñ Bot de WhatsApp - Funcionalidades Simples
---------------------------------------------
---------------------------------------------
---------------------------------------------
MENSAJES (que pueden cancelar en cualquier momento)
---------------------------------------------
## üìÖ Mensaje de Confirmaci√≥n de Turno
üéâ ¬°Tu turno ha sido confirmado!

üë§ Paciente: [Nombre del paciente]
üè• Servicio: [Nombre del servicio]
üë®‚Äç‚öïÔ∏è Profesional: Dr./Dra. [Nombre del profesional]
üìÖ Fecha: [D√≠a de la semana], [DD/MM/YYYY]
üïê Hora: [HH:MM]
üìç Ubicaci√≥n: [Nombre de la cl√≠nica/consultorio]
üìç Direcci√≥n: [Direcci√≥n completa]

üí° ¬øNecesitas modificar o cancelar tu turno? üëÜ Haz clic aqu√≠: [LINK DE GESTI√ìN]

‚ö†Ô∏è Importante: Llega 10 minutos antes de tu cita

---------------------------------------------
## ‚è∞ Recordatorio 24 Horas Antes
üîî Recordatorio de tu turno

¬°Hola [Nombre]! Te recordamos que ma√±ana tienes tu cita:

üë®‚Äç‚öïÔ∏è Con: Dr./Dra. [Nombre del profesional]
üè• Servicio: [Nombre del servicio]
üìÖ Ma√±ana [DD/MM] a las üïê [HH:MM] üìç En: [Nombre de la cl√≠nica]

üìã Recomendaciones: ‚Ä¢ Llega 10 minutos antes
‚Ä¢ Trae tu documento de identidad
‚Ä¢ [Preparaci√≥n espec√≠fica si aplica]

‚ùå ¬øNecesitas cancelar? [LINK DE GESTI√ìN]

---------------------------------------------
## ‚ö° Recordatorio Urgente 2 Horas Antes
üö® ¬°Tu turno es en 2 horas!

‚è∞ RECORDATORIO URGENTE

Hola [Nombre], tu cita es HOY a las [HH:MM]

üë®‚Äç‚öïÔ∏è Dr./Dra. [Nombre del profesional]
üìç [Nombre de la cl√≠nica] üó∫Ô∏è Direcci√≥n: [Direcci√≥n]

üèÉ‚Äç‚ôÇÔ∏è ¬°No olvides salir con tiempo!

‚ö†Ô∏è √öltimo momento para cancelar: [LINK DE GESTI√ìN]

---------------------------------------------
## ‚ùå Confirmaci√≥n de Cancelaci√≥n
‚úÖ Turno cancelado exitosamente

Hola [Nombre], tu turno ha sido cancelado:

üìÖ Fecha cancelada: [DD/MM/YYYY] a las [HH:MM]
üë®‚Äç‚öïÔ∏è Con: Dr./Dra. [Nombre del profesional]

üìû ¬øQuieres reagendar? Ll√°manos al [tel√©fono] o visita [link del sistema]

üíô ¬°Esperamos verte pronto!

---------------------------------------------
---------------------------------------------
---------------------------------------------
## üí∞ Mensajes con Pol√≠ticas de Cancelaci√≥n
---------------------------------------------
### üìÖ Mensaje de Confirmaci√≥n
üéâ ¬°Tu turno ha sido confirmado!

üë§ Cliente: [Nombre del cliente]
üè• Servicio: [Nombre del servicio]
üë®‚Äç‚öïÔ∏è Profesional: [Nombre del profesional]
üìÖ Fecha: [D√≠a de la semana], [DD/MM/YYYY]
üïê Hora: [HH:MM]
üìç Ubicaci√≥n: [Nombre de la cl√≠nica/consultorio]

üí° ¬øNecesitas modificar tu turno? üëÜ Haz clic aqu√≠: [LINK DE GESTI√ìN]

‚ö†Ô∏è POL√çTICA DE CANCELACI√ìN
‚úÖ Gratuita: Antes de las 24 horas.
üí∏ Con Cargo: Dentro de las 24 horas.
---------------------------------------------
### ‚è∞ Recordatorio 24 Horas (Con Advertencia)
üîî Recordatorio de tu turno

¬°Hola [Nombre]! Te recordamos que ma√±ana tienes tu cita:

üë®‚Äç‚öïÔ∏è Con: Dr./Dra. [Nombre del profesional]
üìÖ Ma√±ana [DD/MM] a las üïê [HH:MM]

‚ö†Ô∏è ¬°√öLTIMO D√çA para cancelaci√≥n GRATUITA! A partir de ma√±ana, las cancelaciones tendr√°n un cargo de $[MONTO]

‚ùå ¬øNecesitas cancelar? [LINK DE GESTI√ìN]
---------------------------------------------
### üö® Recordatorio 2 Horas (Cr√≠tico)
üö® ¬°Tu turno es en 2 horas!

Hola [Nombre], tu cita es HOY a las [HH:MM]

‚ö†Ô∏è ATENCI√ìN: Ya no es posible cancelar este turno
En caso de no asistir, se cobrar√° el 100% del valor

üèÉ‚Äç‚ôÇÔ∏è ¬°Te esperamos!


---------------------------------------------
---------------------------------------------
---------------------------------------------

## üîó Sobre el Link de Gesti√≥n
La idea del link sin login es excelente . Podr√≠as implementarlo as√≠:

URL ejemplo: https://turnoboost.com/manage/[TOKEN_√öNICO]

El token podr√≠a ser: hash(appointment_id + patient_phone + secret_key)

Funcionalidades del link:

- ‚úÖ Ver detalles del turno
- üìÖ Reagendar (si hay disponibilidad)
- ‚ùå Cancelar turno
- üìû Contactar a la cl√≠nica
- üó∫Ô∏è Ver ubicaci√≥n en mapa
Ventajas:

- üîí Seguro (token √∫nico por turno)
- üì± F√°cil acceso desde WhatsApp
- ‚ö° Sin fricci√≥n (no requiere registro)
- ‚è∞ Token con expiraci√≥n autom√°tica
Seguridad:

- Token expira despu√©s del turno
- Solo permite acciones del turno espec√≠fico
- Rate limiting para prevenir abuso
- Log de todas las acciones



cambio de un dia de location, deberia dejar y mostrar un modal.
title -> El horario de los profesionales se actualiz√≥ al nuevo horario del local
message -> Se ha cerrado un d√≠a en el horario del local, lo que ha afectado autom√°ticamente los horarios de los profesionales asociados. Si decides revertir este cambio, recuerda actualizar manualmente los horarios individuales de los profesionales. 

y eso deberia aplicar a professional




worker
# Ver mensajes fallidos
php bin/console messenger:failed:show

# Eliminar todos los mensajes fallidos
php bin/console messenger:failed:remove --force

# Reiniciar el worker limpio
php bin/console messenger:consume async